{"options":[{"enabled":false,"definition":{"id":"5d58cc01-7c75-450c-be18-a388ddb129ec"},"inputs":{"branchFilters":"[\"+refs/heads/*\"]","additionalFields":"{}"}},{"enabled":false,"definition":{"id":"a9db38f9-9fdc-478c-b0f9-464221e58316"},"inputs":{"workItemType":"Issue","assignToRequestor":"true","additionalFields":"{}"}}],"variables":{"access_key":{"value":null,"isSecret":true},"isDestroy":{"value":"true"},"region":{"value":null,"isSecret":true},"secret_key":{"value":null,"isSecret":true},"system.debug":{"value":"false","allowOverride":true}},"properties":{},"tags":[],"_links":{"self":{"href":"https://dev.azure.com/pedrito1348/1cb3befc-10bc-4dad-80cf-0cfefd04920a/_apis/build/Definitions/17?revision=18"},"web":{"href":"https://dev.azure.com/pedrito1348/1cb3befc-10bc-4dad-80cf-0cfefd04920a/_build/definition?definitionId=17"},"editor":{"href":"https://dev.azure.com/pedrito1348/1cb3befc-10bc-4dad-80cf-0cfefd04920a/_build/designer?id=17&_a=edit-build-definition"},"badge":{"href":"https://dev.azure.com/pedrito1348/1cb3befc-10bc-4dad-80cf-0cfefd04920a/_apis/build/status/17"}},"jobAuthorizationScope":2,"jobTimeoutInMinutes":60,"jobCancelTimeoutInMinutes":5,"process":{"phases":[{"steps":[{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Reemplazar Ambiente","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"86e3367d-c1d2-40a3-ab67-abd1924ce49f","versionSpec":"2.*","definitionType":"task"},"inputs":{"PathToFile":"Ambiente/Terraform/valores","RegEx":"{AMBIENTE}","Global":"true","IgnoreCase":"false","MultiLine":"false","ValueToReplace":"dev"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Reemplazar Region","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"86e3367d-c1d2-40a3-ab67-abd1924ce49f","versionSpec":"2.*","definitionType":"task"},"inputs":{"PathToFile":"Ambiente/Terraform/valores","RegEx":"{REGION}","Global":"true","IgnoreCase":"false","MultiLine":"false","ValueToReplace":"$(region)"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Reemplazar KEY","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"86e3367d-c1d2-40a3-ab67-abd1924ce49f","versionSpec":"2.*","definitionType":"task"},"inputs":{"PathToFile":"Ambiente/Terraform/valores","RegEx":"{KEY}","Global":"true","IgnoreCase":"false","MultiLine":"false","ValueToReplace":"$(access_key)"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Reemplazar SECRET","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"86e3367d-c1d2-40a3-ab67-abd1924ce49f","versionSpec":"2.*","definitionType":"task"},"inputs":{"PathToFile":"Ambiente/Terraform/valores","RegEx":"{SECRET}","Global":"true","IgnoreCase":"false","MultiLine":"false","ValueToReplace":"$(secret_key)"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Reemplazar Variable Redes Publicas","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"86e3367d-c1d2-40a3-ab67-abd1924ce49f","versionSpec":"2.*","definitionType":"task"},"inputs":{"PathToFile":"Ambiente/Terraform/valores","RegEx":"{PUBLICA}","Global":"true","IgnoreCase":"false","MultiLine":"false","ValueToReplace":"true"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Reemplazar Cantidad Instancias","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"86e3367d-c1d2-40a3-ab67-abd1924ce49f","versionSpec":"2.*","definitionType":"task"},"inputs":{"PathToFile":"Ambiente/Terraform/valores","RegEx":"{CANTIDAD}","Global":"true","IgnoreCase":"false","MultiLine":"false","ValueToReplace":"1"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Reemplazar Cantidad Zonas","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"86e3367d-c1d2-40a3-ab67-abd1924ce49f","versionSpec":"2.*","definitionType":"task"},"inputs":{"PathToFile":"Ambiente/Terraform/valores","RegEx":"{ZONAS}","Global":"true","IgnoreCase":"false","MultiLine":"false","ValueToReplace":"2"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Bash Script","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"6c731c3c-3c68-459a-a5c9-bde6e6595b5b","versionSpec":"3.*","definitionType":"task"},"inputs":{"targetType":"inline","filePath":"","arguments":"","script":"# Write your commands here\n\necho 'Hello world'\n\nls\n\necho \"-------------------\"\n\ncd Ambiente/Terraform\nls\n\necho \"-------------------\"\n\nrm version.tf\nls\necho \"-------------------\"\n\ncp version version.tf\n\nls\n\necho \"-------------------\"\n\ncat valores\n\necho \"-------------------\"\n\ncp valores valores.tfvars\n\nls\n","workingDirectory":"","failOnStderr":"false","bashEnvValue":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Install Terraform","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"a4789e5d-f6e8-431f-add9-379d640a883c","versionSpec":"1.*","definitionType":"task"},"inputs":{"terraformVersion":"latest"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Terraform Init","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"fe504acc-6115-40cb-89ff-191386b5e7bf","versionSpec":"4.*","definitionType":"task"},"inputs":{"provider":"aws","command":"init","workingDirectory":"Ambiente/Terraform","commandOptions":"","outputTo":"console","customCommand":"","outputFormat":"default","fileName":"","environmentServiceNameAzureRM":"","environmentServiceNameAWS":"","environmentServiceNameGCP":"","backendAzureRmUseEnvironmentVariablesForAuthentication":"false","backendAzureRmUseEntraIdForAuthentication":"false","backendServiceArm":"","backendAzureRmResourceGroupName":"","backendAzureRmStorageAccountName":"","backendAzureRmContainerName":"","backendAzureRmKey":"","backendServiceAWS":"b86315db-800f-4658-b5a1-fff389dbc455","backendAWSBucketName":"s3-dev-instancia-prmr","backendAWSKey":"status","backendServiceGCP":"","backendGCPBucketName":"","backendGCPPrefix":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Terraform Validate","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"fe504acc-6115-40cb-89ff-191386b5e7bf","versionSpec":"4.*","definitionType":"task"},"inputs":{"provider":"aws","command":"validate","workingDirectory":"Ambiente/Terraform","commandOptions":"","outputTo":"console","customCommand":"","outputFormat":"default","fileName":"","environmentServiceNameAzureRM":"","environmentServiceNameAWS":"","environmentServiceNameGCP":"","backendAzureRmUseEnvironmentVariablesForAuthentication":"false","backendAzureRmUseEntraIdForAuthentication":"false","backendServiceArm":"","backendAzureRmResourceGroupName":"","backendAzureRmStorageAccountName":"","backendAzureRmContainerName":"","backendAzureRmKey":"","backendServiceAWS":"","backendAWSBucketName":"","backendAWSKey":"","backendServiceGCP":"","backendGCPBucketName":"","backendGCPPrefix":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Terraform Plan","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"fe504acc-6115-40cb-89ff-191386b5e7bf","versionSpec":"4.*","definitionType":"task"},"inputs":{"provider":"aws","command":"plan","workingDirectory":"Ambiente/Terraform","commandOptions":"-var-file=\"valores.tfvars\"","outputTo":"console","customCommand":"","outputFormat":"default","fileName":"","environmentServiceNameAzureRM":"","environmentServiceNameAWS":"b86315db-800f-4658-b5a1-fff389dbc455","environmentServiceNameGCP":"","backendAzureRmUseEnvironmentVariablesForAuthentication":"false","backendAzureRmUseEntraIdForAuthentication":"false","backendServiceArm":"","backendAzureRmResourceGroupName":"","backendAzureRmStorageAccountName":"","backendAzureRmContainerName":"","backendAzureRmKey":"","backendServiceAWS":"","backendAWSBucketName":"","backendAWSKey":"","backendServiceGCP":"","backendGCPBucketName":"","backendGCPPrefix":""}},{"environment":{},"enabled":false,"continueOnError":false,"alwaysRun":false,"displayName":"Terraform Apply","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"fe504acc-6115-40cb-89ff-191386b5e7bf","versionSpec":"4.*","definitionType":"task"},"inputs":{"provider":"aws","command":"apply","workingDirectory":"Ambiente/Terraform","commandOptions":"-var-file=\"valores.tfvars\"","outputTo":"console","customCommand":"","outputFormat":"default","fileName":"","environmentServiceNameAzureRM":"","environmentServiceNameAWS":"b86315db-800f-4658-b5a1-fff389dbc455","environmentServiceNameGCP":"","backendAzureRmUseEnvironmentVariablesForAuthentication":"false","backendAzureRmUseEntraIdForAuthentication":"false","backendServiceArm":"","backendAzureRmResourceGroupName":"","backendAzureRmStorageAccountName":"","backendAzureRmContainerName":"","backendAzureRmKey":"","backendServiceAWS":"","backendAWSBucketName":"","backendAWSKey":"","backendServiceGCP":"","backendGCPBucketName":"","backendGCPPrefix":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Terraform Destroy","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"fe504acc-6115-40cb-89ff-191386b5e7bf","versionSpec":"4.*","definitionType":"task"},"inputs":{"provider":"aws","command":"destroy","workingDirectory":"Ambiente/Terraform","commandOptions":"-var-file=\"valores.tfvars\"","outputTo":"console","customCommand":"","outputFormat":"default","fileName":"","environmentServiceNameAzureRM":"","environmentServiceNameAWS":"b86315db-800f-4658-b5a1-fff389dbc455","environmentServiceNameGCP":"","backendAzureRmUseEnvironmentVariablesForAuthentication":"false","backendAzureRmUseEntraIdForAuthentication":"false","backendServiceArm":"","backendAzureRmResourceGroupName":"","backendAzureRmStorageAccountName":"","backendAzureRmContainerName":"","backendAzureRmKey":"","backendServiceAWS":"","backendAWSBucketName":"","backendAWSKey":"","backendServiceGCP":"","backendGCPBucketName":"","backendGCPPrefix":""}}],"name":"Agent job 1","refName":"Job_1","condition":"succeeded()","target":{"executionOptions":{"type":0},"allowScriptsAuthAccessOption":false,"type":1},"jobAuthorizationScope":2}],"target":{"agentSpecification":{"identifier":"ubuntu-22.04"}},"type":1},"repository":{"properties":{"apiUrl":"https://api.github.com/repos/pedrinchi1987/TestDevOps","branchesUrl":"https://api.github.com/repos/pedrinchi1987/TestDevOps/branches","cloneUrl":"https://github.com/pedrinchi1987/TestDevOps.git","connectedServiceId":"811cfc8d-a815-4396-8c01-bf98d8adac30","defaultBranch":"main","fullName":"pedrinchi1987/TestDevOps","hasAdminPermissions":"True","isFork":"False","isPrivate":"False","lastUpdated":"08/03/2024 22:16:43","manageUrl":"https://github.com/pedrinchi1987/TestDevOps","nodeId":"R_kgDOMaI2JA","ownerId":"61132686","orgName":"pedrinchi1987","refsUrl":"https://api.github.com/repos/pedrinchi1987/TestDevOps/git/refs","safeRepository":"pedrinchi1987/TestDevOps","shortName":"TestDevOps","ownerAvatarUrl":"https://avatars.githubusercontent.com/u/61132686?v=4","archived":"False","externalId":"832714276","ownerIsAUser":"True","checkoutNestedSubmodules":"false","cleanOptions":"0","fetchDepth":"0","gitLfsSupport":"false","reportBuildStatus":"true","skipSyncSource":"false","fetchTags":"false","labelSourcesFormat":"$(build.buildNumber)","labelSources":"0"},"id":"pedrinchi1987/TestDevOps","type":"GitHub","name":"pedrinchi1987/TestDevOps","url":"https://github.com/pedrinchi1987/TestDevOps.git","defaultBranch":"refs/heads/proyecto_inicial","clean":"true","checkoutSubmodules":false},"processParameters":{},"quality":1,"authoredBy":{"displayName":"Pedro Rafael Montenegro Rosales","url":"https://spsprodsbr1.vssps.visualstudio.com/Aa889e22f-eae6-484f-a998-ab1044d3720e/_apis/Identities/4bdfa5c6-27f0-420c-9f77-51e6caac560b","_links":{"avatar":{"href":"https://dev.azure.com/pedrito1348/_apis/GraphProfile/MemberAvatars/msa.YTU1ODU5YTItNGJlMS03NTBjLTkzOGUtZDg3MWQ5NjRhNzUw"}},"id":"4bdfa5c6-27f0-420c-9f77-51e6caac560b","uniqueName":"pedrito13_48@hotmail.com","imageUrl":"https://dev.azure.com/pedrito1348/_apis/GraphProfile/MemberAvatars/msa.YTU1ODU5YTItNGJlMS03NTBjLTkzOGUtZDg3MWQ5NjRhNzUw","descriptor":"msa.YTU1ODU5YTItNGJlMS03NTBjLTkzOGUtZDg3MWQ5NjRhNzUw"},"drafts":[],"queue":{"_links":{"self":{"href":"https://dev.azure.com/pedrito1348/_apis/build/Queues/54"}},"id":54,"name":"Azure Pipelines","url":"https://dev.azure.com/pedrito1348/_apis/build/Queues/54","pool":{"id":9,"name":"Azure Pipelines","isHosted":true}},"id":17,"name":"DevsuPrueba-Terraform-CI","url":"https://dev.azure.com/pedrito1348/1cb3befc-10bc-4dad-80cf-0cfefd04920a/_apis/build/Definitions/17?revision=18","uri":"vstfs:///Build/Definition/17","path":"\\","type":2,"queueStatus":0,"revision":18,"createdDate":"2024-08-03T23:10:07.253Z","project":{"id":"1cb3befc-10bc-4dad-80cf-0cfefd04920a","name":"DevsuPrueba","description":"Prueba Devsu","url":"https://dev.azure.com/pedrito1348/_apis/projects/1cb3befc-10bc-4dad-80cf-0cfefd04920a","state":1,"revision":56,"visibility":0,"lastUpdateTime":"2024-07-25T04:37:56.847Z"}}